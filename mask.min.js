class Mask{constructor(e,t){this.element=document.getElementById(e),null==this.element&&console.error("Element not found"),this.patterns=[],this.text_value=[],this.max_size=0,t.forEach((e,s)=>{let l=e.replace(/[^_]/g,"").length;t.forEach((e,t)=>{s!=t&&l==e.replace(/[^_]/g,"").length&&console.error("Masks cannot have the same size")}),this.patterns.push(e.split("")),this.max_size=this.max_size>l?this.max_size:l,this.text_value.push([])})}update(){let e,t=this.element.value.replace(/[^0-9]/g,"").substr(0,this.max_size).split(""),s=this;this.patterns.forEach((e,l)=>{s.text_value[l]=[];let a=0;for(let h=0;h<t.length&&a<e.length;h++){let i=t[h];s.text_value[l].length<a+1&&s.text_value[l].push(" "),a<e.length&&("_"!=e[a]?(s.text_value[l][a]=e[a],h--):s.text_value[l][a]=i),a++}});let l=this.max_size;this.patterns.forEach((s,a)=>{let h=s.join("").replace(/[^_]/g,"").length;t.length<=h&&h<=l&&(l=h,e=this.text_value[a].join(""))}),this.element.value=e}}